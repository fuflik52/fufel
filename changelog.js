// –î–∞–Ω–Ω—ã–µ –¥–ª—è changelog
const changelogData = {
    versions: [
        {
            version: "1.0.4",
            date: "20.12.2024",
            isNew: true,
            changes: [
                "–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω –¥–∏–∑–∞–π–Ω –∏–≥—Ä—ã",
                "–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞",
                "–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∫–ª–∏–∫–∞",
                "–£–ª—É—á—à–µ–Ω –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –º–∞–≥–∞–∑–∏–Ω–∞",
                "–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö",
                "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
                "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞",
                "–£–ª—É—á—à–µ–Ω –±–∞–ª–∞–Ω—Å —Ü–µ–Ω –≤ –º–∞–≥–∞–∑–∏–Ω–µ",
                "–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏",
                "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —á—Ç–æ–± –º–æ–∂–Ω–æ –±—ã–ª–æ –∫–ª–∏–∫–∞—Ç—å —Å—Ä–∞–∑—É —Å 2 –ø–∞–ª—å—Ü–µ–≤ –∏ –±–æ–ª–µ–µ",
                "–£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π"
            ]
        },
        {
            version: "1.0.3",
            date: "19.12.2024",
            isNew: true ,
            changes: [
"–¢–µ–ø–µ—Ä—å –∏–≥—Ä–∞ —Å—Ç–∞–ª–∞ –µ—â–µ —É–¥–æ–±–Ω–µ–µ –∏ –±—ã—Å—Ç—Ä–µ–µ! üöÄ",
"–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –º–æ–Ω–µ—Ç - —Ç–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥! üí∞",
"–£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ - –≤–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚ú®",
"–î–æ–±–∞–≤–ª–µ–Ω—ã –∫—Ä–∞—Å–∏–≤—ã–µ —ç–º–æ–¥–∑–∏ –≤–æ –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã –∏–≥—Ä—ã üé®",
"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö - –∏–≥—Ä–∞–π—Ç–µ —Å –∫–æ–º—Ñ–æ—Ä—Ç–æ–º! üì±",
"–£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ - —Ç–µ–ø–µ—Ä—å –µ—â–µ —É–¥–æ–±–Ω–µ–µ! üéØ",
"–°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ - –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π! ‚öôÔ∏è",
"–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ø—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã ‚ú®",
"–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞ - –±–æ–ª—å—à–µ –º–æ–Ω–µ—Ç! üñ±Ô∏è",
"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ–ª–∫–∏–µ –±–∞–≥–∏ –∏ —É–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å üõ†Ô∏è",
            ]
        }, 
        {
            version: "1.0.2",
            date: "19.12.2024",
            isNew: true ,
            changes: [
                "–í—Å—Ç—Ä–µ—á–∞–π—Ç–µ –Ω–æ–≤—É—é –º–∏–Ω–∏-–∏–≥—Ä—É CRASH!",
                "–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫–∏ –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞—Å—Ç—É—â–∏–º –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º!",
                "–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å",
                "–ë—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞–≤–∫–∏ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º (10%, 25%, 50%, MAX)",
                "–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –∏–≥—Ä —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π",
                "–ö—Ä–∞—Å–∏–≤—ã–π –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
                "–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã",
                "–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã"
            ]
        }, 
        {
            version: "1.0.1",
            date: "19.12.2024",
            isNew: false ,
            changes: [
                "üéÆ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã! üéÆ",
                "",
                "‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ:",
                "1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç–æ–≤!",
                "   - –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤–∞—è –∏–∫–æ–Ω–∫–∞",
                "   - –ö–∞–∂–¥–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ",
                "",
                "2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π:",
                "   - –ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 15 —Å–µ–∫—É–Ω–¥",
                "   - –í—Ç–æ—Ä–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥",
                "   - –¢—Ä–µ—Ç—å–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É",
                "   - –ß–µ—Ç–≤–µ—Ä—Ç–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç",
                "   - –ü—è—Ç–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 10 –º–∏–Ω—É—Ç",
                "   - –®–µ—Å—Ç–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 30 –º–∏–Ω—É—Ç",
                "   - –°–µ–¥—å–º–æ–µ –∏ —Å–ª–µ–¥—É—é—â–∏–µ: –ø–æ–¥–æ–∂–¥–∏—Ç–µ 60 –º–∏–Ω—É—Ç",
                "",
                "3. –£–¥–æ–±–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:",
                "   - –ú–æ–∂–Ω–æ —É–ª—É—á—à–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ",
                "   - –¢–∞–π–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å –∂–¥–∞—Ç—å",
                "   - –ü—Ä–æ–≥—Ä–µ—Å—Å —É–ª—É—á—à–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
            ]
        }, 
        {
            version: "1.0.0",
            date: "19.12.2024",
            isNew: true ,
            changes: [
"–í—Å—Ç—Ä–µ—á–∞–π—Ç–µ –Ω–æ–≤—É—é –º–∏–Ω–∏-–∏–≥—Ä—É CRASH! üé≤",
"–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫–∏ –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞—Å—Ç—É—â–∏–º –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º! üìà",
"–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å üí∏",
"–ë—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞–≤–∫–∏ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º (10%, 25%, 50%, MAX) üéØ",
"–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –∏–≥—Ä —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π üìä",
"–ö—Ä–∞—Å–∏–≤—ã–π –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ üì±",
"–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã üõ°Ô∏è",
"–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã ‚ú®",
"–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∞—à–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π üìà",
"–ù–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–π—Ç–∏ –≤—Å–µ! üéÅ",
            ]
        }
    ],
    plannedFeatures: [
        "–ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ",
        "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞",
        "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è",
        "–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π",
        "–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤",
        "–°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å–æ–≤"
    ]
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è changelog
function showChangelog() {
    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.style.display = 'block';

    const modalContent = document.createElement('div');
    modalContent.className = 'modal-content';

    let content = '<div class="changelog-container">';
    
    // –í–µ—Ä—Å–∏–∏
    changelogData.versions.forEach(version => {
        const isNew = version.isNew;
        content += `
            <div class="changelog-entry ${isNew ? 'new' : 'old'}">
                <div class="changelog-date">
                    –í–µ—Ä—Å–∏—è ${version.version} (${version.date})
                    ${isNew ? '<span class="new-badge">–ù–æ–≤–æ–µ</span>' : '<span class="old-label">–°—Ç–∞—Ä–æ–µ</span>'}
                </div>
                <ul class="changelog-changes">
                    ${version.changes.map(change => `<li>${change}</li>`).join('')}
                </ul>
            </div>
        `;
    });

    // –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    content += `
        <div class="changelog-entry planned">
            <div class="changelog-date">
                <span>–ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–û</span>
                <span class="planned-label">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
            </div>
            <ul class="changelog-changes">
                ${changelogData.plannedFeatures.map((feature, index) => `<li>${index + 1}. ${feature}</li>`).join('')}
            </ul>
        </div>

        <div style="text-align: center; margin-top: 20px; color: #0088ff;">
            –°–ø–∞—Å–∏–±–æ —á—Ç–æ –∏–≥—Ä–∞–µ—Ç–µ –≤ –Ω–∞—à—É –∏–≥—Ä—É! ‚ù§Ô∏è
        </div>
    `;

    content += '</div>';
    modalContent.innerHTML = content;

    // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–∫—Ä—ã—Ç–∏—è
    const closeButton = document.createElement('button');
    closeButton.innerHTML = '√ó';
    closeButton.className = 'close-btn';
    closeButton.onclick = () => {
        modal.style.display = 'none';
        modal.remove(); // –£–¥–∞–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑ DOM
    };
    modalContent.insertBefore(closeButton, modalContent.firstChild);

    modal.appendChild(modalContent);
    document.body.appendChild(modal);

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    modal.onclick = (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
            modal.remove(); // –£–¥–∞–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑ DOM
        }
    };
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ changelog
document.addEventListener('DOMContentLoaded', () => {
    const changelogBtn = document.getElementById('changelogBtn');
    if (changelogBtn) {
        changelogBtn.addEventListener('click', showChangelog);
    }
});
