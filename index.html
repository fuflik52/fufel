<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Login</title>
</head>
<body>
    <h1>Авторизация через Telegram</h1>
    <!-- Telegram Login Widget -->
    <script async src="https://telegram.org/js/telegram-widget.js?7"
        data-telegram-login="CookieClicket_Bot"
        data-size="large"
        data-radius="10"
        data-auth-url="/auth"></script>
    
    <!-- Ваша информация будет отображаться здесь -->
    <div id="userInfo"></div>

    <script>
        // Слушаем callback после авторизации через Telegram
        window.addEventListener('message', function(event) {
            if (event.origin !== "https://t.me") {
                return;
            }
            const userData = event.data;
            if (userData && userData.id) {
                document.getElementById('userInfo').innerHTML = `
                    <p><strong>Telegram ID:</strong> ${userData.id}</p>
                    <p><strong>Username:</strong> ${userData.username}</p>
                    <p><strong>Фото:</strong> <img src="https://t.me/${userData.username}" alt="User Photo" width="100"></p>
                `;
            }
        });
    </script>
</body>
</html>
